console.warn=console.error=()=>{},AFRAME.registerComponent("device-set",{init:function(){var e=document.querySelector("a-scene"),t=e.querySelectorAll(".table"),o=e.querySelectorAll(".standup"),n=document.querySelector("#rig"),i=document.querySelector("#camera"),c="stand";if(!0===AFRAME.utils.device.isMobile()){e.setAttribute("vr-mode-ui","enabled","false"),document.querySelector("#crosshair").object3D.visible=!1,document.querySelector("#GL-SP").object3D.visible=!0,document.querySelector("#SMH-SP").object3D.visible=!0;for(let e of t);for(let e of o)e.removeAttribute("dynamic-body"),e.removeAttribute("grabbable"),e.setAttribute("static-body"),e.setAttribute("rotation",{z:90}),e.dispatchEvent(new CustomEvent("standtrigger"))}else if(!0===AFRAME.utils.device.checkHeadsetConnected())document.querySelector("#crosshair").object3D.visible=!1,document.querySelector("#GL-VR").object3D.visible=!0,document.querySelector("#SMH-VR").object3D.visible=!0,n.setAttribute("movement-controls","speed",.1);else if(!1===AFRAME.utils.device.checkHeadsetConnected()){document.querySelector("#GL-PC").object3D.visible=!0,document.querySelector("#SMH-PC").object3D.visible=!0,n.setAttribute("movement-controls","speed",.15);for(let e of t){e.getAttribute("position")}for(let e of o)e.removeAttribute("dynamic-body"),e.removeAttribute("grabbable"),e.setAttribute("static-body"),e.setAttribute("rotation",{z:90}),e.dispatchEvent(new CustomEvent("standtrigger"));window.addEventListener("keydown",(function(e){67===e.keyCode&&"stand"==c?(i.setAttribute("position",{y:1}),c="crouch"):67===e.keyCode&&"crouch"==c&&(i.setAttribute("position",{y:1.6}),c="stand")}))}}}),AFRAME.registerComponent("plane-hit",{init:function(){sceneEl=document.querySelector("a-scene");var e=this.el,t=sceneEl.querySelectorAll(".grab-obj-zone"),o=sceneEl.querySelectorAll(".center-obj-zone"),n=0,i=0,c=0,s=0,l=function(e,t){for(let o of e)o.object3D.visible=t},r=function(e,t){for(let o of e){let e=o.getAttribute("position"),n=(e.x+1)*(e.z+1),i=Math.abs(n);0==o.is("grabbed")&&i<=3?o.object3D.visible=t:o.object3D.visible=!0}},b=function(){1==n||1==i||1==c&&0==s?(console.log("main lights on"),l(mlightzone,!0),l(blightzone,!1)):1==c&&1==s?(console.log("both lights on"),l(mlightzone,!0),l(blightzone,!0)):(console.log("burial lights on"),l(mlightzone,!1),l(blightzone,!0))},u=function(){var u=e.components["aabb-collider"].intersectedEls;for(let e of u)"just-grab"==e.id&&(console.log("just-grab entered"),n++),"just-center"==e.id&&(console.log("just-center entered"),i++),"just-scale"==e.id&&(console.log("just-scale entered"),c++),"just-burial"==e.id&&(console.log("just-burial entered"),s++);1==n?(console.log("grab on"),l(gzone,!0),l(t,!0),l(scale2,!1),l(scale3,!1),b()):(console.log("grab off"),l(gzone,!1),r(t,!1)),1==i?(console.log("center on"),l(czone,!0),l(o,!0),l(scale2,!0),l(scale3,!0),b()):(console.log("center off"),l(czone,!1),r(o,!1)),1==c?(console.log("scale on"),l(scale1,!0),l(scale2,!0),l(scale3,!0),b()):(console.log("scale off"),l(scale1,!1),l(scale2,!1)),1==s?(console.log("burial on"),l(bzone,!0),l(scale3,!1),b()):(console.log("burial off"),l(bzone,!1)),i=0,n=0,c=0,s=0};e.addEventListener("hitstart",(function(e){u()})),e.addEventListener("hitend",(function(e){u()}))}}),AFRAME.registerComponent("anti-drop",{init:function(){sceneEl=document.querySelector("a-scene"),this.grabbablelist=sceneEl.getElementsByClassName("grabbable"),this.tick=AFRAME.utils.throttleTick(this.tick,3e3,this)},dropcheck:function(){for(let e of this.grabbablelist){let t=e.getAttribute("position"),o=(t.x+1)*(t.z+1),n=Math.abs(o);t.y<=.1&&n<=5&&(e.object3D.position.set(0,1.4,0),e.components["dynamic-body"].syncToPhysics())}},tick:function(e,t){this.dropcheck()}}),AFRAME.registerComponent("warp",{init:function(){sceneEl=document.querySelector("a-scene"),this.el.addEventListener("grab-start",(function(e){document.querySelector("#rig").object3D.position.set(-12.5,0,-15.5)}))}});